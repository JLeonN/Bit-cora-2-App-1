### **Estado Actual del Proyecto: Bit√°cora II**

Estoy desarrollando una aplicaci√≥n en **Vue 3 con Quasar** llamada **Bit√°cora II** para gestionar pedidos internos, ubicaciones e inventario, tipo sistema de trabajo. El objetivo es generar un archivo .APK para instalarla y usarla en un celular f√≠sico, con la meta final de publicarla en la Play Store de Google.

#### üì¶ **Estructura Actual**

##### üß© **Componentes Principales:**

* **PedidosRealizados.vue:** Muestra todos los pedidos guardados y tiene un bot√≥n para **enviar** el Excel.

* **HistorialPedidos.vue:** Muestra un historial de pedidos agrupados por fechas, tambi√©n con bot√≥n de **Enviar**.

* **Inicio.vue (PanelInicio.vue):** Pantalla principal con navegaci√≥n a las distintas funciones.

* **ModalNuevoPedido.vue:** Modal para agregar un pedido manual, con input, bot√≥n de c√°mara y confirmaci√≥n con Enter o bot√≥n de aceptar.  
  - El input manual agrega un solo pedido y se cierra autom√°ticamente al confirmar.  
  - El bot√≥n de c√°mara abre **CamaraPedidos.vue**, donde se pueden escanear varios pedidos a la vez.

* **CamaraPedidos.vue:** Modal que integra c√°mara en un `<div>` con botones personalizados y soporte para escaneo de c√≥digos de barra usando **@zxing/library**.

* **AjustarUbicaciones.vue:** Nueva tabla para gestionar ubicaciones de art√≠culos, con formulario responsive (inputs en columna en pantallas chicas) y opciones para editar o eliminar.

* **ModalEliminar.vue:** Modal gen√©rico y reutilizable para confirmaci√≥n de eliminaciones, usado tanto en pedidos como en ubicaciones.

##### üìÅ **L√≥gica de Exportaci√≥n y Guardado de Archivos:**

* Uso la librer√≠a **xlsx** para generar los datos Excel en memoria.
* L√≥gica para descarga directa en la web (`exportarExcel.js`).
* M√≥dulo reutilizable (`src/components/Pedidos/GeneraExcel/GeneraExcel.js`) con la funci√≥n `generarYGuardarExcelTemporal`.
* Funci√≥n que usa **@capacitor/filesystem** para guardar el archivo Excel (en Base64) como archivo f√≠sico temporal en el dispositivo (`Directory.Cache`).
* El archivo Excel se guarda con un nombre din√°mico que incluye el rango de fechas (`Pedidos_DD-MM-AAAA_a_DD-MM-AAAA.xlsx`).

##### üíæ **Almacenamiento de Pedidos:**

* Uso **@capacitor/preferences** para persistencia de pedidos y fechas (`usoAlmacenamientoCapacitor.js`).
* Manejo centralizado en `almacenamiento.js` que decide qu√© sistema usar.
* Rutas ajustadas para evitar errores de imports din√°micos (404 corregidos).

##### üì∑ **Integraci√≥n de C√°mara y Escaneo:**

* Implementado con **@zxing/library** embebido en un `<div>` con botones propios, reemplazando el uso directo de **@capacitor/camera**.
* **CamaraPedidos.vue** permite mostrar la c√°mara, controlar permisos y escanear en tiempo real.
* Miniatura de la √∫ltima captura mostrada sobre la c√°mara, mejorando la UX.
* Manejo de errores optimizado y logs en pantalla para depuraci√≥n.

---

##### ‚úÖ **Resumen de Logros Actuales:**

* Persistencia funcional de datos de pedidos.
* **Generaci√≥n y guardado nativo de archivos Excel temporales** con Capacitor Filesystem.
* **Funcionalidad de env√≠o por aplicaciones nativas** usando @capacitor/share.
* Nombre de archivo Excel adaptado din√°micamente al rango de fechas.
* Escaneo de c√≥digos de barra implementado y funcionando en dispositivo real.
* C√°mara embebida en un `<div>` con interfaz personalizable y botones propios.
* Separaci√≥n clara y modular de responsabilidades (UI, datos, generaci√≥n/guardado, env√≠o, c√°mara, escaneo).
* Reutilizaci√≥n de componentes (botones flotantes, modales, c√°mara).
* Feedback al usuario con notificaciones de √©xito y error.
* Navegaci√≥n principal funcional y errores de rutas corregidos.
* Manejo robusto de permisos de c√°mara.
* Input manual de pedidos funcionando con Enter y bot√≥n confirmar, emitido directamente a la tabla principal.
* **Nuevo m√≥dulo de Ajuste de Ubicaciones con tabla y formulario responsive.**
* **Creaci√≥n de ModalEliminar.vue gen√©rico, reutilizable en pedidos y ubicaciones.**

---

##### üéØ **Siguiente objetivo:**

* Refinar experiencia de usuario en el env√≠o (agregar opciones, manejo de errores, etc.).
* Mejorar UI/UX seg√∫n feedback.
* Optimizar escaneo de c√≥digos con distintos formatos de c√≥digos de barra y QR.
* A√±adir funciones √∫tiles para el trabajo, como inventario de ubicaciones exportable a Excel.
* Incorporar funci√≥n de control de stock, similar a pedidos y ubicaciones, con posibilidad de exportar a Excel y enviar por correo.
* Ajustes finales en la interfaz de c√°mara y modales para que sean m√°s intuitivos y consistentes.

---

