### **Estado Actual del Proyecto: BitÃ¡cora II**

Estoy desarrollando una aplicaciÃ³n en **Vue 3 con Quasar** llamada **BitÃ¡cora II**, orientada a la gestiÃ³n de **pedidos internos, ubicaciones e inventario**. Es un sistema de trabajo pensado para correr como aplicaciÃ³n mÃ³vil en Android, con la meta de generar un archivo **.APK** e instalarlo en un dispositivo fÃ­sico, para luego publicarlo en la **Play Store de Google**.  

---

### ğŸ“¦ **Estructura Actual**

#### ğŸ§© **Componentes Principales**
- **PedidosRealizados.vue:** Muestra todos los pedidos guardados y ofrece un botÃ³n para **enviar** el Excel.  
- **HistorialPedidos.vue:** Historial de pedidos agrupados por fechas, tambiÃ©n con botÃ³n de **Enviar**.  
- **Inicio.vue (PanelInicio.vue):** Pantalla principal de navegaciÃ³n hacia las distintas funciones.  
- **ModalNuevoPedido.vue:** Modal para agregar pedidos manuales, con input, botÃ³n de cÃ¡mara y confirmaciÃ³n.  
  - Input manual: agrega un solo pedido y cierra el modal automÃ¡ticamente.  
  - BotÃ³n de cÃ¡mara: abre **CamaraPedidos.vue** para escanear mÃºltiples pedidos.  
- **CamaraPedidos.vue:** Modal con cÃ¡mara embebida en un `<div>` + botones personalizados. Usa **@zxing/library** para escaneo en tiempo real de cÃ³digos de barra y QR.  
- **AjustarUbicaciones.vue:** Nueva tabla para gestionar ubicaciones de artÃ­culos, con formulario responsive (inputs en columna en pantallas chicas), ediciÃ³n y eliminaciÃ³n.  
- **ModalEliminar.vue:** Modal genÃ©rico, reutilizable tanto en pedidos como en ubicaciones.  

---

#### ğŸ“ **LÃ³gica de ExportaciÃ³n y Guardado de Archivos**
- Uso de **xlsx** para generar datos Excel en memoria.  
- Descarga directa en la web (`exportarExcel.js`).  
- MÃ³dulo reutilizable (`GeneraExcel.js`) con funciÃ³n `generarYGuardarExcelTemporal`.  
- Uso de **@capacitor/filesystem** para guardar Excel en Base64 en `Directory.Cache`.  
- Nombre de archivo dinÃ¡mico con rango de fechas (`Pedidos_DD-MM-AAAA_a_DD-MM-AAAA.xlsx`).  

---

#### ğŸ’¾ **Almacenamiento de Datos**
- Persistencia con **@capacitor/preferences**.  
- Manejo centralizado en `almacenamiento.js` (decide quÃ© sistema usar).  
- `usoAlmacenamientoPedidos.js` y `usoAlmacenamientoUbicaciones.js` para modularizar la lÃ³gica.  
- Rutas corregidas para evitar errores de imports dinÃ¡micos (404).  

---

#### ğŸ“· **IntegraciÃ³n de CÃ¡mara y Escaneo**
- ImplementaciÃ³n con **@zxing/library** dentro de un `<div>` con botones personalizados.  
- **CamaraPedidos.vue** maneja permisos de cÃ¡mara, escaneo en tiempo real y muestra miniatura de la Ãºltima captura.  
- Feedback de errores en pantalla (depuraciÃ³n mÃ¡s simple).  
- OptimizaciÃ³n del escaneo para cÃ³digos de barra y QR âœ… (objetivo cumplido).  

---

#### ğŸ—‚ï¸ **MÃ³dulo de Ubicaciones**
- **FormularioUbicacion.vue:** Alta/ediciÃ³n con inputs adaptables (responsive).  
- **TablaUbicaciones.vue:** Lista de ubicaciones con botones de acciÃ³n.  
- **ModalEditarUbicacion.vue:** EdiciÃ³n puntual de ubicaciones.  
- **ModalEliminar.vue:** ConfirmaciÃ³n reutilizada.  

---

### âœ… **Resumen de Logros Actuales**
- Persistencia de pedidos y ubicaciones funcional.  
- **GeneraciÃ³n y guardado nativo de Excel temporales** con Capacitor Filesystem.  
- **EnvÃ­o de archivos Excel por apps nativas** con @capacitor/share.  
- Escaneo en tiempo real de cÃ³digos de barra y QR funcionando en dispositivo fÃ­sico.  
- CÃ¡mara embebida con botones propios, permisos gestionados y miniaturas.  
- Nombre de archivos Excel dinÃ¡mico con rango de fechas.  
- SeparaciÃ³n modular: UI, datos, generaciÃ³n/guardado, envÃ­o, cÃ¡mara.  
- ReutilizaciÃ³n de componentes (botones flotantes, modales, cÃ¡mara).  
- Feedback al usuario (notificaciones de Ã©xito/error).  
- NavegaciÃ³n principal estable y rutas corregidas.  
- **GestiÃ³n completa de ubicaciones con tabla y formulario responsive.**  
- **ModalEliminar.vue genÃ©rico y reutilizable.**  

---

### ğŸ¯ **Siguientes Objetivos**
- **Refinar experiencia de usuario en los envÃ­os** (opciones extra, manejo de errores).  
- **Mejorar UI/UX** con base en feedback.  
- **Exportar ubicaciones a Excel y permitir su envÃ­o** (nuevo objetivo clave).  
- **Control de stock**: mÃ³dulo nuevo, similar al de ubicaciones, con exportaciÃ³n y envÃ­o de Excel.  
- **Ajustes finales en la interfaz de cÃ¡mara y modales** para mayor consistencia.  

---

### ğŸ“‚ **Estructura de Archivos (src)**


### ğŸ“‚ Estructura del Proyecto
src
â”œâ”€â”€ App.vue
â”œâ”€â”€ css
â”‚   â””â”€â”€ app.css
â”œâ”€â”€ layouts
â”‚   â””â”€â”€ MainLayout.vue
â”œâ”€â”€ pages
â”‚   â”œâ”€â”€ AjustarUbicaciones.vue
â”‚   â”œâ”€â”€ ErrorNotFound.vue
â”‚   â””â”€â”€ TablaPedidos.vue
â”œâ”€â”€ router
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ routes.js
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ BaseDeDatos
â”‚   â”‚   â”œâ”€â”€ almacenamiento.js
â”‚   â”‚   â”œâ”€â”€ usoAlmacenamientoCapacitor.js
â”‚   â”‚   â”œâ”€â”€ usoAlmacenamientoPedidos.js
â”‚   â”‚   â””â”€â”€ usoAlmacenamientoUbicaciones.js
â”‚   â”œâ”€â”€ Botones
â”‚   â”‚   â”œâ”€â”€ BotonFlotante.vue
â”‚   â”‚   â”œâ”€â”€ BotonesDescargarEnviar.vue
â”‚   â”‚   â”œâ”€â”€ BotonesNavegacion.vue
â”‚   â”‚   â””â”€â”€ TresBotones.vue
â”‚   â”œâ”€â”€ Camara
â”‚   â”‚   â””â”€â”€ CamaraPedidos.vue
â”‚   â”œâ”€â”€ Inicio
â”‚   â”‚   â””â”€â”€ PanelInicio.vue
â”‚   â”œâ”€â”€ Logica
â”‚   â”‚   â”œâ”€â”€ Envios
â”‚   â”‚   â”‚   â””â”€â”€ CompartirExcel.js
â”‚   â”‚   â”œâ”€â”€ Pedidos
â”‚   â”‚   â”‚   â””â”€â”€ GeneraExcel
â”‚   â”‚   â”‚       â”œâ”€â”€ GeneraExcel.js
â”‚   â”‚   â”‚       â””â”€â”€ ExportarPedidosExcel.js
â”‚   â”‚   â””â”€â”€ Ubicaciones
â”‚   â”‚       â”œâ”€â”€ FormularioUbicacion.vue
â”‚   â”‚       â””â”€â”€ TablaUbicaciones.vue
â”‚   â”œâ”€â”€ Modales
â”‚   â”‚   â”œâ”€â”€ ModalEditarPedido.vue
â”‚   â”‚   â”œâ”€â”€ ModalEditarUbicacion.vue
â”‚   â”‚   â”œâ”€â”€ ModalEliminar.vue
â”‚   â”‚   â””â”€â”€ ModalNuevoPedido.vue
â”‚   â””â”€â”€ Pedidos
â”‚       â”œâ”€â”€ HistorialPedidos.vue
â”‚       â””â”€â”€ PedidosRealizados.vue
